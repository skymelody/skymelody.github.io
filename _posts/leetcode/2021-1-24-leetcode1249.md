---
layout:     post
title:      1249. Minimum Remove to Make Valid Parentheses
date:       2021-1-24
author:     skymelody
header-img: img/the-first.png
catalog: false 
tags:
    - leetcode
---
Given a string s of `'('` , `')'` and lowercase English characters. 

Your task is to remove the minimum number of parentheses ( `'('` or `')'`, in any positions ) so that the resulting *parentheses string* is valid and return **any** valid string.

Formally, a *parentheses string* is valid if and only if:

- It is the empty string, contains only lowercase characters, or
- It can be written as `AB` (`A` concatenated with `B`), where `A` and `B` are valid strings, or
- It can be written as `(A)`, where `A` is a valid string.



Examples:

```
Input: s = "lee(t(c)o)de)"
Output: "lee(t(c)o)de"
Explanation: "lee(t(co)de)" , "lee(t(c)ode)" would also be accepted.

Input: s = "a)b(c)d"
Output: "ab(c)d"

Input: s = "))(("
Output: ""
Explanation: An empty string is also valid.
```



思路：

1. 正向，反向迭代字符串两次，标记非法括号为'#'

   ```cpp
   class Solution {
   public:
       string minRemoveToMakeValid(string s) {
           int left_cnt = 0;
           int right_cnt = 0;
           for (char& c : s) {
               if (c == '(') ++left_cnt;
               if (c == ')') ++right_cnt;
               // once right_cnt is greater than left_cnt;
               // then the string is invalid
               if (right_cnt > left_cnt) {
                   // we mark this invalid ')' as '#' 
                   // set left_cnt and right_cnt to zero;
                   c = '#';
                   left_cnt = right_cnt = 0;
               }
           }
           
           // we reverse iterate s to mark surplus '(' as '#'
           left_cnt = right_cnt = 0;
           for (int i = s.size()-1; i >= 0; --i) {
               if (s[i] == '(') ++left_cnt;
               if (s[i] == ')') ++right_cnt;
               if (left_cnt > right_cnt) {
                   s[i] = '#';
                   left_cnt = right_cnt = 0;
               }
           }
           
           string ans;
           for (char c : s) {
               if (c != '#') {
                   ans.push_back(c);
               }
           }
           return ans;
       }
   };
   ```

   

