---
layout:     post
title:      1292. Maximum Side Length of a Square with Sum Less than or Equal to Threshold
date:       2020-12-26
author:     skymelody
header-img: img/the-first.png
catalog: false 
tags:
    - leetcode
---
Given a `m x n` matrix `mat` and an integer `threshold`. Return the maximum side-length of a square with a sum less than or equal to `threshold` or return **0** if there is no such square.

Examples:

```
Input: mat = [[1,1,3,2,4,3,2],[1,1,3,2,4,3,2],[1,1,3,2,4,3,2]], threshold = 4
Output: 2
Explanation: The maximum side length of square with sum less than 4 is 2 as shown.
```



思路：
1. 前缀和

   prefix_sum\[i\]\[j\]表示mat从0, 0 ~ i, j的和

   ```cpp
       int maxSideLength(vector<vector<int>>& mat, int threshold) {
           vector<vector<int>> prefix_sum(mat.size()+1, vector<int>(mat[0].size()+1));
           for (int i = 0; i < mat.size(); ++i) {
               for (int j = 0; j < mat[i].size(); ++j) {
                   prefix_sum[i+1][j+1] =
                       mat[i][j] + 
                       prefix_sum[i][j+1] + 
                       prefix_sum[i+1][j] - 
                       prefix_sum[i][j];
               }
           }
           int ans = 0;
           for (int i = 1; i < prefix_sum.size(); ++i) {
               for (int j = 1; j < prefix_sum[i].size(); ++j) {
                   int len = ans + 1;
                   if (i-len >= 0 && j-len >= 0 && 
                       prefix_sum[i][j] -
                       prefix_sum[i-len][j] -
                       prefix_sum[i][j-len] +
                       prefix_sum[i-len][j-len] <= threshold) {
                       ans = len;
                   }
               }
           }
           return ans;
       }
   ```

   